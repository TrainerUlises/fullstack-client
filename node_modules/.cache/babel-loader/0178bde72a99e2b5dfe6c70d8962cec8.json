{"ast":null,"code":"var _jsxFileName = \"/Users/ulisesromero/client/src/components/containers/EditCampusContainer.js\";\n/*==================================================\nEditCampusContainer.js\nHandles:\n- Fetching the existing campus\n- Managing form state\n- Handling validation\n- Calling editCampusThunk\n- Redirecting after save\n==================================================*/\n\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchCampusThunk, editCampusThunk } from \"../../store/thunks\";\nimport EditCampusView from \"../views/EditCampusView\";\nimport Header from \"./Header\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass EditCampusContainer extends Component {\n  constructor(props) {\n    super(props);\n    /* Update local state when user types */\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n    /* Simple validation */\n    this.validateInputs = () => {\n      if (!this.state.name.trim()) return \"Name is required.\";\n      if (!this.state.address.trim()) return \"Address is required.\";\n      return \"\";\n    };\n    /* Handle save/submit */\n    this.handleSubmit = async event => {\n      event.preventDefault();\n      const error = this.validateInputs();\n      if (error) {\n        this.setState({\n          errorMessage: error\n        });\n        return;\n      }\n      const updatedCampus = {\n        id: this.props.campus.id,\n        name: this.state.name,\n        address: this.state.address,\n        description: this.state.description\n      };\n      await this.props.editCampus(updatedCampus);\n\n      // redirect back to campus page\n      this.props.history.push(`/campus/${this.props.campus.id}`);\n    };\n    this.state = {\n      name: \"\",\n      address: \"\",\n      description: \"\",\n      loading: true,\n      // Wait until initial data is loaded\n      errorMessage: \"\" // For simple validation\n    };\n  }\n\n  /* Load campus data when component first mounts */\n  async componentDidMount() {\n    await this.props.fetchCampus(this.props.match.params.id);\n\n    // Pre-fill form with existing data\n    this.setState({\n      name: this.props.campus.name,\n      address: this.props.campus.address,\n      description: this.props.campus.description || \"\",\n      loading: false\n    });\n  }\n  render() {\n    if (this.state.loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 36\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EditCampusView, {\n        campus: this.state,\n        handleChange: this.handleChange,\n        handleSubmit: this.handleSubmit,\n        errorMessage: this.state.errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n/* Redux connections */\nconst mapState = state => ({\n  campus: state.campus\n});\nconst mapDispatch = dispatch => ({\n  fetchCampus: id => dispatch(fetchCampusThunk(id)),\n  editCampus: campus => dispatch(editCampusThunk(campus))\n});\nexport default connect(mapState, mapDispatch)(EditCampusContainer);","map":{"version":3,"names":["React","Component","connect","fetchCampusThunk","editCampusThunk","EditCampusView","Header","jsxDEV","_jsxDEV","EditCampusContainer","constructor","props","handleChange","event","setState","target","name","value","validateInputs","state","trim","address","handleSubmit","preventDefault","error","errorMessage","updatedCampus","id","campus","description","editCampus","history","push","loading","componentDidMount","fetchCampus","match","params","render","children","fileName","_jsxFileName","lineNumber","columnNumber","mapState","mapDispatch","dispatch"],"sources":["/Users/ulisesromero/client/src/components/containers/EditCampusContainer.js"],"sourcesContent":["/*==================================================\nEditCampusContainer.js\nHandles:\n- Fetching the existing campus\n- Managing form state\n- Handling validation\n- Calling editCampusThunk\n- Redirecting after save\n==================================================*/\n\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchCampusThunk, editCampusThunk } from \"../../store/thunks\";\nimport EditCampusView from \"../views/EditCampusView\";\nimport Header from \"./Header\";\n\nclass EditCampusContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      name: \"\",\n      address: \"\",\n      description: \"\",\n      loading: true,      // Wait until initial data is loaded\n      errorMessage: \"\"    // For simple validation\n    };\n  }\n\n  /* Load campus data when component first mounts */\n  async componentDidMount() {\n    await this.props.fetchCampus(this.props.match.params.id);\n\n    // Pre-fill form with existing data\n    this.setState({\n      name: this.props.campus.name,\n      address: this.props.campus.address,\n      description: this.props.campus.description || \"\",\n      loading: false\n    });\n  }\n\n  /* Update local state when user types */\n  handleChange = (event) => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  /* Simple validation */\n  validateInputs = () => {\n    if (!this.state.name.trim()) return \"Name is required.\";\n    if (!this.state.address.trim()) return \"Address is required.\";\n    return \"\";\n  };\n\n  /* Handle save/submit */\n  handleSubmit = async (event) => {\n    event.preventDefault();\n\n    const error = this.validateInputs();\n    if (error) {\n      this.setState({ errorMessage: error });\n      return;\n    }\n\n    const updatedCampus = {\n      id: this.props.campus.id,\n      name: this.state.name,\n      address: this.state.address,\n      description: this.state.description\n    };\n\n    await this.props.editCampus(updatedCampus);\n\n    // redirect back to campus page\n    this.props.history.push(`/campus/${this.props.campus.id}`);\n  };\n\n  render() {\n    if (this.state.loading) return <div>Loading...</div>;\n\n    return (\n      <div>\n        <Header />\n        <EditCampusView\n          campus={this.state}\n          handleChange={this.handleChange}\n          handleSubmit={this.handleSubmit}\n          errorMessage={this.state.errorMessage}\n        />\n      </div>\n    );\n  }\n}\n\n/* Redux connections */\nconst mapState = (state) => ({\n  campus: state.campus\n});\n\nconst mapDispatch = (dispatch) => ({\n  fetchCampus: (id) => dispatch(fetchCampusThunk(id)),\n  editCampus: (campus) => dispatch(editCampusThunk(campus))\n});\n\nexport default connect(mapState, mapDispatch)(EditCampusContainer);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}