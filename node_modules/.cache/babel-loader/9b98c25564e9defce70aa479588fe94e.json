{"ast":null,"code":"var _jsxFileName = \"/Users/ulisesromero/client/src/components/containers/NewCampusContainer.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { addCampusThunk } from \"../../store/thunks\";\nimport NewCampusView from \"../views/NewCampusView\";\nimport Header from \"./Header\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass NewCampusContainer extends Component {\n  constructor() {\n    super();\n    // Update local state as the user types\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n    // Validate input BEFORE submitting to DB\n    this.validateForm = () => {\n      let errors = {};\n      if (!this.state.name.trim()) {\n        errors.name = \"Name is required.\";\n      }\n      if (!this.state.address.trim()) {\n        errors.address = \"Address is required.\";\n      }\n\n      // description is optional, no validation needed\n\n      this.setState({\n        errors\n      });\n      return Object.keys(errors).length === 0; // returns true if no errors\n    };\n    this.handleSubmit = async event => {\n      event.preventDefault();\n\n      // Stop form submission if invalid\n      if (!this.validateForm()) return;\n      await this.props.addCampus({\n        name: this.state.name,\n        address: this.state.address,\n        description: this.state.description,\n        imageUrl: this.state.imageUrl || null\n      });\n\n      // Redirect to /campuses page\n      this.props.history.push(\"/campuses\");\n    };\n    this.state = {\n      name: \"\",\n      address: \"\",\n      description: \"\",\n      imageUrl: \"\",\n      errors: {} // store validation messages\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NewCampusView, {\n        handleChange: this.handleChange,\n        handleSubmit: this.handleSubmit,\n        errors: this.state.errors // pass error messages to the view\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this);\n  }\n}\nconst mapDispatch = dispatch => {\n  return {\n    addCampus: campus => dispatch(addCampusThunk(campus))\n  };\n};\nexport default connect(null, mapDispatch)(NewCampusContainer);","map":{"version":3,"names":["React","Component","connect","addCampusThunk","NewCampusView","Header","jsxDEV","_jsxDEV","NewCampusContainer","constructor","handleChange","event","setState","target","name","value","validateForm","errors","state","trim","address","Object","keys","length","handleSubmit","preventDefault","props","addCampus","description","imageUrl","history","push","render","children","fileName","_jsxFileName","lineNumber","columnNumber","mapDispatch","dispatch","campus"],"sources":["/Users/ulisesromero/client/src/components/containers/NewCampusContainer.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { addCampusThunk } from \"../../store/thunks\";\nimport NewCampusView from \"../views/NewCampusView\";\nimport Header from \"./Header\";\n\nclass NewCampusContainer extends Component {\n  constructor() {\n    super();\n    this.state = {\n      name: \"\",\n      address: \"\",\n      description: \"\",\n      imageUrl: \"\",\n      errors: {}   // store validation messages\n    };\n  }\n\n  // Update local state as the user types\n  handleChange = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  // Validate input BEFORE submitting to DB\n  validateForm = () => {\n    let errors = {};\n\n    if (!this.state.name.trim()) {\n      errors.name = \"Name is required.\";\n    }\n\n    if (!this.state.address.trim()) {\n      errors.address = \"Address is required.\";\n    }\n\n    // description is optional, no validation needed\n\n    this.setState({ errors });\n    return Object.keys(errors).length === 0; // returns true if no errors\n  };\n\n  handleSubmit = async (event) => {\n    event.preventDefault();\n\n    // Stop form submission if invalid\n    if (!this.validateForm()) return;\n\n    await this.props.addCampus({\n      name: this.state.name,\n      address: this.state.address,\n      description: this.state.description,\n      imageUrl: this.state.imageUrl || null\n    });\n\n    // Redirect to /campuses page\n    this.props.history.push(\"/campuses\");\n  };\n\n  render() {\n    return (\n      <div>\n        <Header />\n        <NewCampusView\n          handleChange={this.handleChange}\n          handleSubmit={this.handleSubmit}\n          errors={this.state.errors}       // pass error messages to the view\n        />\n      </div>\n    );\n  }\n}\n\nconst mapDispatch = (dispatch) => {\n  return {\n    addCampus: (campus) => dispatch(addCampusThunk(campus)),\n  };\n};\n\nexport default connect(null, mapDispatch)(NewCampusContainer);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}