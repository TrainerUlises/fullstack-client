{"ast":null,"code":"var _jsxFileName = \"/Users/ulisesromero/client/src/components/containers/NewCampusContainer.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { addCampusThunk } from \"../../store/thunks\";\nimport NewCampusView from \"../views/NewCampusView\";\nimport Header from \"./Header\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass NewCampusContainer extends Component {\n  constructor() {\n    super();\n    // VALIDATION LOGIC\n    this.validateField = (fieldName, value) => {\n      let errors = {\n        ...this.state.errors\n      };\n      if (fieldName === \"name\") {\n        if (!value.trim()) errors.name = \"Campus name is required.\";else delete errors.name;\n      }\n      if (fieldName === \"address\") {\n        if (!value.trim()) errors.address = \"Address is required.\";else delete errors.address;\n      }\n      if (fieldName === \"imageUrl\") {\n        if (value && !value.startsWith(\"http\")) {\n          errors.imageUrl = \"URL must start with http or https.\";\n        } else {\n          delete errors.imageUrl;\n        }\n      }\n      this.setState({\n        errors\n      }, this.updateFormValidity);\n    };\n    this.updateFormValidity = () => {\n      const {\n        name,\n        address,\n        errors\n      } = this.state;\n      const isValid = name.trim() && address.trim() && Object.keys(errors).length === 0;\n      this.setState({\n        isValid\n      });\n    };\n    // Update local state AS user types\n    this.handleChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value\n      }, () => this.validateField(name, value) // validate real-time\n      );\n    };\n    // Submit after validation\n    this.handleSubmit = async event => {\n      event.preventDefault();\n      if (!this.state.isValid) return;\n      const payload = {\n        name: this.state.name,\n        address: this.state.address,\n        description: this.state.description,\n        imageUrl: this.state.imageUrl || \"https://via.placeholder.com/300\"\n      };\n      await this.props.addCampus(payload);\n      this.props.history.push(\"/campuses\");\n    };\n    this.state = {\n      name: \"\",\n      address: \"\",\n      description: \"\",\n      imageUrl: \"\",\n      errors: {},\n      isValid: false\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NewCampusView, {\n        name: this.state.name,\n        address: this.state.address,\n        description: this.state.description,\n        imageUrl: this.state.imageUrl,\n        errors: this.state.errors,\n        isValid: this.state.isValid,\n        handleChange: this.handleChange,\n        handleSubmit: this.handleSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this);\n  }\n}\nconst mapDispatch = dispatch => ({\n  addCampus: campus => dispatch(addCampusThunk(campus))\n});\nexport default connect(null, mapDispatch)(NewCampusContainer);","map":{"version":3,"names":["React","Component","connect","addCampusThunk","NewCampusView","Header","jsxDEV","_jsxDEV","NewCampusContainer","constructor","validateField","fieldName","value","errors","state","trim","name","address","startsWith","imageUrl","setState","updateFormValidity","isValid","Object","keys","length","handleChange","event","target","handleSubmit","preventDefault","payload","description","props","addCampus","history","push","render","children","fileName","_jsxFileName","lineNumber","columnNumber","mapDispatch","dispatch","campus"],"sources":["/Users/ulisesromero/client/src/components/containers/NewCampusContainer.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { addCampusThunk } from \"../../store/thunks\";\nimport NewCampusView from \"../views/NewCampusView\";\nimport Header from \"./Header\";\n\nclass NewCampusContainer extends Component {\n  constructor() {\n    super();\n    this.state = {\n      name: \"\",\n      address: \"\",\n      description: \"\",\n      imageUrl: \"\",\n      errors: {},\n      isValid: false,\n    };\n  }\n\n  // VALIDATION LOGIC\n  validateField = (fieldName, value) => {\n    let errors = { ...this.state.errors };\n\n    if (fieldName === \"name\") {\n      if (!value.trim()) errors.name = \"Campus name is required.\";\n      else delete errors.name;\n    }\n\n    if (fieldName === \"address\") {\n      if (!value.trim()) errors.address = \"Address is required.\";\n      else delete errors.address;\n    }\n\n    if (fieldName === \"imageUrl\") {\n      if (value && !value.startsWith(\"http\")) {\n        errors.imageUrl = \"URL must start with http or https.\";\n      } else {\n        delete errors.imageUrl;\n      }\n    }\n\n    this.setState({ errors }, this.updateFormValidity);\n  };\n\n  updateFormValidity = () => {\n    const { name, address, errors } = this.state;\n    const isValid = name.trim() && address.trim() && Object.keys(errors).length === 0;\n    this.setState({ isValid });\n  };\n\n  // Update local state AS user types\n  handleChange = (event) => {\n    const { name, value } = event.target;\n\n    this.setState(\n      { [name]: value },\n      () => this.validateField(name, value) // validate real-time\n    );\n  };\n\n  // Submit after validation\n  handleSubmit = async (event) => {\n    event.preventDefault();\n\n    if (!this.state.isValid) return;\n\n    const payload = {\n      name: this.state.name,\n      address: this.state.address,\n      description: this.state.description,\n      imageUrl: this.state.imageUrl || \"https://via.placeholder.com/300\",\n    };\n\n    await this.props.addCampus(payload);\n\n    this.props.history.push(\"/campuses\");\n  };\n\n  render() {\n    return (\n      <div>\n        <Header />\n        <NewCampusView\n          name={this.state.name}\n          address={this.state.address}\n          description={this.state.description}\n          imageUrl={this.state.imageUrl}\n          errors={this.state.errors}\n          isValid={this.state.isValid}\n          handleChange={this.handleChange}\n          handleSubmit={this.handleSubmit}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapDispatch = (dispatch) => ({\n  addCampus: (campus) => dispatch(addCampusThunk(campus)),\n});\n\nexport default connect(null, mapDispatch)(NewCampusContainer);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}