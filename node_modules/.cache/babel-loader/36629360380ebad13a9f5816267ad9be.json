{"ast":null,"code":"var _jsxFileName = \"/Users/ulisesromero/client/src/components/containers/EditCampusContainer.js\";\n/*==================================================\n EditCampusContainer.js — \n==================================================*/\n\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchCampusThunk, editCampusThunk } from \"../../store/thunks\";\nimport EditCampusView from \"../views/EditCampusView\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass EditCampusContainer extends Component {\n  constructor(props) {\n    super(props);\n    // Handle user typing\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value,\n        errorMessage: \"\" // clear errors as user types\n      });\n    };\n    /*--------------------------------------------------\n       VALIDATION FUNCTION\n       Returns a string error message if invalid,\n       Returns \"\" if all inputs are valid.\n    --------------------------------------------------*/\n    this.validateInputs = () => {\n      if (!this.state.name.trim()) return \"Campus name cannot be empty.\";\n      if (!this.state.address.trim()) return \"Campus address cannot be empty.\";\n      if (!this.state.description.trim()) return \"Campus description cannot be empty.\";\n      return \"\";\n    };\n    /*--------------------------------------------------\n      Submit handler with validation\n    --------------------------------------------------*/\n    this.handleSubmit = async event => {\n      event.preventDefault();\n\n      // Validate before submitting\n      const error = this.validateInputs();\n      if (error) {\n        this.setState({\n          errorMessage: error\n        });\n        return; // stop here → do NOT submit invalid data\n      }\n      const updatedCampus = {\n        id: this.props.campus.id,\n        name: this.state.name,\n        address: this.state.address,\n        description: this.state.description\n      };\n      await this.props.editCampus(updatedCampus);\n\n      // Redirect to updated campus page\n      this.props.history.push(`/campus/${this.props.campus.id}`);\n    };\n    this.state = {\n      name: \"\",\n      address: \"\",\n      description: \"\",\n      imageUrl: \"\",\n      errorMessage: \"\" // <-- validation error message here\n    };\n  }\n\n  // Fetch campus on load\n  componentDidMount() {\n    this.props.fetchCampus(this.props.match.params.id);\n  }\n\n  // Prefill form once campus data is loaded\n  componentDidUpdate(prevProps) {\n    if (prevProps.campus.id !== this.props.campus.id) {\n      this.setState({\n        name: this.props.campus.name || \"\",\n        address: this.props.campus.address || \"\",\n        description: this.props.campus.description || \"\"\n      });\n    }\n  }\n  render() {\n    if (this.state.loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 36\n    }, this);\n    return /*#__PURE__*/_jsxDEV(EditCampusView, {\n      campus: this.props.campus,\n      formData: this.state,\n      handleChange: this.handleChange,\n      handleSubmit: this.handleSubmit,\n      errorMessage: this.state.errorMessage // pass error to view\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this);\n  }\n}\nconst mapState = state => ({\n  campus: state.campus\n});\nconst mapDispatch = dispatch => ({\n  fetchCampus: id => dispatch(fetchCampusThunk(id)),\n  editCampus: campus => dispatch(editCampusThunk(campus))\n});\nexport default connect(mapState, mapDispatch)(EditCampusContainer);","map":{"version":3,"names":["React","Component","connect","fetchCampusThunk","editCampusThunk","EditCampusView","jsxDEV","_jsxDEV","EditCampusContainer","constructor","props","handleChange","event","setState","target","name","value","errorMessage","validateInputs","state","trim","address","description","handleSubmit","preventDefault","error","updatedCampus","id","campus","editCampus","history","push","imageUrl","componentDidMount","fetchCampus","match","params","componentDidUpdate","prevProps","render","loading","children","fileName","_jsxFileName","lineNumber","columnNumber","formData","mapState","mapDispatch","dispatch"],"sources":["/Users/ulisesromero/client/src/components/containers/EditCampusContainer.js"],"sourcesContent":["/*==================================================\n EditCampusContainer.js — \n==================================================*/\n\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchCampusThunk, editCampusThunk } from \"../../store/thunks\";\nimport EditCampusView from \"../views/EditCampusView\";\n\n\nclass EditCampusContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      name: \"\",\n      address: \"\",\n      description: \"\",\n      imageUrl:\"\",\n      errorMessage: \"\"  // <-- validation error message here\n    };\n  }\n\n  // Fetch campus on load\n  componentDidMount() {\n    this.props.fetchCampus(this.props.match.params.id);\n  }\n\n  // Prefill form once campus data is loaded\n  componentDidUpdate(prevProps) {\n    if (prevProps.campus.id !== this.props.campus.id) {\n      this.setState({\n        name: this.props.campus.name || \"\",\n        address: this.props.campus.address || \"\",\n        description: this.props.campus.description || \"\"\n      });\n    }\n  }\n\n  // Handle user typing\n  handleChange = (event) => {\n    this.setState({ \n      [event.target.name]: event.target.value,\n      errorMessage: \"\"   // clear errors as user types\n    });\n  };\n\n  /*--------------------------------------------------\n     VALIDATION FUNCTION\n     Returns a string error message if invalid,\n     Returns \"\" if all inputs are valid.\n  --------------------------------------------------*/\n  validateInputs = () => {\n    if (!this.state.name.trim()) return \"Campus name cannot be empty.\";\n    if (!this.state.address.trim()) return \"Campus address cannot be empty.\";\n    if (!this.state.description.trim()) return \"Campus description cannot be empty.\";\n    return \"\";\n  };\n\n  /*--------------------------------------------------\n    Submit handler with validation\n  --------------------------------------------------*/\n  handleSubmit = async (event) => {\n    event.preventDefault();\n\n    // Validate before submitting\n    const error = this.validateInputs();\n    if (error) {\n      this.setState({ errorMessage: error });\n      return; // stop here → do NOT submit invalid data\n    }\n\n    const updatedCampus = {\n      id: this.props.campus.id,\n      name: this.state.name,\n      address: this.state.address,\n      description: this.state.description\n    };\n\n    await this.props.editCampus(updatedCampus);\n\n    // Redirect to updated campus page\n    this.props.history.push(`/campus/${this.props.campus.id}`);\n  };\n\n  render() {\n    if (this.state.loading) return <div>Loading...</div>;\n\n    return (\n      <EditCampusView\n        campus={this.props.campus}\n        formData={this.state}\n        handleChange={this.handleChange}\n        handleSubmit={this.handleSubmit}\n        errorMessage={this.state.errorMessage}   // pass error to view\n      />\n    );\n  }\n}\n\nconst mapState = (state) => ({\n  campus: state.campus\n});\n\nconst mapDispatch = (dispatch) => ({\n  fetchCampus: (id) => dispatch(fetchCampusThunk(id)),\n  editCampus: (campus) => dispatch(editCampusThunk(campus))\n});\n\nexport default connect(mapState, mapDispatch)(EditCampusContainer);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}